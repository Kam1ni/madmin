(function(e){function t(t){for(var s,l,i=t[0],o=t[1],c=t[2],d=0,v=[];d<i.length;d++)l=i[d],r[l]&&v.push(r[l][0]),r[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},r={1:0},n=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;n.push([10,0]),a()})({10:function(e,t,a){e.exports=a("zUnb")},"72PV":function(e,t,a){"use strict";var s=a("o1R/"),r=a.n(s);r.a},"8bKz":function(e,t,a){"use strict";a.d(t,"a",function(){return r});class s{constructor(){this.baseUrl="/"}}const r=new s},GJfE:function(e,t,a){},Ixer:function(e,t,a){},MISg:function(e,t,a){"use strict";a.r(t);var s=a("Kw5r"),r=a("zlta");a("2mQJ");s["a"].use(r,{theme:{primary:"#2196F3",secondary:"#1E88E5",accent:"#FF9800",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}});a("lT/x");var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.authService.user?a("App"):a("Login")},l=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-layout",{attrs:{row:"","justify-center":"",wrap:"","align-center":"","fill-height":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"login-title",attrs:{xs12:"","text-xs-center":""}},[e._v("\n\t\t\t\t\tMadmin\n\t\t\t\t")]),s("v-flex",{staticClass:"primary--text sub-title",attrs:{xs12:"","text-xs-center":""}},[e._v("\n\t\t\t\t\tYour platform for server management\n\t\t\t\t")])],1),s("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs11:"",md5:"",xl3:""}},[s("transition",{attrs:{name:"login-slide-transition",mode:"out-in"}},[s("main-login")],1)],1)],1),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[s("img",{attrs:{src:a("zwU1"),height:"64px",alt:"Madmin logo"}})])],1)],1)],1)],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{row:"",wrap:""}},[a("v-card-text",[a("v-card-text",[a("v-form",{ref:"form",on:{submit:e.login},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-alert",{attrs:{value:null!=e.errorMessage,type:"error",transition:"slide-y-transition"}},[e._v("\n\t\t\t\t"+e._s(e.errorMessage)+"\n\t\t\t")]),a("v-btn",{attrs:{loading:e.logingIn,disabled:e.logingIn,color:"primary",block:"",depressed:""},on:{click:e.login}},[e._v("LOGIN")])],1)],1)],1)],1)},u=[];class d{constructor(e){this.token=e.token,this.deviceName=e.deviceName}}class v{constructor(e){this._created=!1,e&&(this._created=!0,this._id=e._id)}get id(){return this._id}get created(){return this._created}}var p=a("vDqi"),h=a.n(p);class f{constructor(){this.headers={},this.hasAuthorization=!0}get token(){return localStorage.getItem("auth_token")}static getDefaultHeaders(){return(new f).build()}setHeader(e,t){return this.headers[e]=t,this}removeHeader(e){return this.headers[e]=void 0,this}setAuthorization(e){return this.hasAuthorization=e,this}build(){return this.hasAuthorization&&(this.headers.Authorization=this.token),this.headers}}var m=a("8bKz");class g{static get USER(){return`${m["a"].baseUrl}/user`}static get HANDLER(){return`${m["a"].baseUrl}/handler`}static get HANDLER_EXEC(){return`${m["a"].baseUrl}/exec-handler`}static get AUTH(){return`${m["a"].baseUrl}/auth`}static get CONFIG(){return`${m["a"].baseUrl}/config`}static get APP(){return`${m["a"].baseUrl}/app`}}const w=g.USER;console.log(w);const b=new s["a"]({data(){return{users:[]}},methods:{async getUsers(){console.log("GETTING USERS",{API_URL:w});let e=await h.a.get(w,{headers:f.getDefaultHeaders()});return console.log("GOT USERS"),this.users=e.data.map(e=>new x(e)),this.users},async getUser(e){let t=await h.a.get(w+"/"+e,{headers:f.getDefaultHeaders()}),a=new x(t.data),s=this.users.findIndex(t=>t.id==e);return-1!=s?this.users[s]=a:this.users.push(a),a}}}),_=g.USER;class x extends v{constructor(e){if(super(e),this.tokens=[],e&&(e.identifier&&(this._id=e.identifier),this.username=e.username,this.isAdmin=e.isAdmin,e.tokens))for(let t of e.tokens)this.tokens.push(new d(t))}async save(){if(this.created){await h.a.put(_+`/${this.id}/edit`,this,{headers:f.getDefaultHeaders()});if(this.password){await h.a.put(_+`/ ${this.id}/change-password`,{password:this.password},{headers:f.getDefaultHeaders()});this.password=null}let e=b.users.findIndex(e=>{return e.id==this.id});-1!=e?b.users[e]=this:b.users.push(this)}else{console.log(this);let e=await h.a.post(_,this,{headers:f.getDefaultHeaders()});b.users.push(new x(e.data)),this._created=!0,this.password=null}}async remove(){await h.a.delete(_+"/"+this.id,{headers:f.getDefaultHeaders()});let e=b.users.findIndex(e=>{return e.id==this.id});-1!=e&&b.users.splice(e,1)}}var y=a("FY1v"),k=a.n(y);function D(e,t){return null==t?localStorage.removeItem(e):"object"==typeof t?localStorage.setItem(e,JSON.stringify(t)):void localStorage.setItem(e,t)}function S(e,t=null){return localStorage.getItem(e)||t}class A{constructor(e){this.defaultRedirect=e.defaultRedirect,this.version=e.version}static async updateDefaultRedirect(e){return await P.updateSetting("defaultRedirect",e)}}const U=g.CONFIG,P=new s["a"]({data(){return{appSettings:null}},methods:{async getSettings(){let e=await h.a.get(U,{headers:f.getDefaultHeaders()});return this.appSettings=new A(e.data),this.appSettings},async updateSetting(e,t){await h.a.put(U+"/"+e,{value:t},{headers:f.getDefaultHeaders()}),this.appSettings[e]=t}}}),E=g.AUTH,H="auth_token",R="auth_user",O=new s["a"]({data(){return{user:null,token:null}},computed:{isLoggedIn(){return null!=this.token}},watch:{user(e){D(R,e)},token(e){D(H,e)}},methods:{async fetchProfile(){let e=await h.a.get(E,{headers:f.getDefaultHeaders()}),t=new x(e.data);return this.user=t,t},async login(e,t){try{let a=await h.a.post(E+"/login",{username:e,password:t,deviceName:this.getDiveceName()});this.user=new x(a.data),this.token=a.data.token}catch(e){let t=e;throw 400==t.status&&"NO PASSWORD"==t.data.data&&(this.token=t.data.token,this.user=new x(t.data)),e}},async setNewPassword(e){await h.a.post(E+"/set-new-password",{password:e},{headers:f.getDefaultHeaders()})},async logout(){await h.a.post(E+"/logout",null,{headers:f.getDefaultHeaders()}),this.user=null,this.token=null},async removeToken(e){await h.a.post(E+"/logout",null,{headers:(new f).setAuthorization(!1).setHeader("Authorization",e.token).build()});let t=this.user.tokens,a=t.findIndex(t=>{return t.token==e.token});-1!=a&&t.splice(a,1)},getDiveceName(){let e=new k.a;return`${e.getBrowser().name} @${e.getOS().name}`},async removeAllTokens(){let e=await h.a.delete(E+"/remove-all-tokens",{headers:f.getDefaultHeaders()});this.user.tokens=e.data.tokens.map(e=>new d(e))}},async created(){h.a.interceptors.response.use(e=>{return e},e=>{return 400==e.status&&"Invalid token"==e.data.message&&(this.user=null,this.token=null),Promise.reject(e)}),this.token=S(H),this.isLoggedIn&&(this.user=new x(JSON.parse(S(R,"{}"))),await this.fetchProfile(),await P.getSettings())}});var $=s["a"].extend({data(){return{valid:!0,logingIn:!1,username:null,password:null,errorMessage:null}},methods:{async login(){if(!this.logingIn){if(!this.$refs.form.validate())return this.errorMessage="Login values are invalid";this.logingIn=!0,console.log("login");try{this.errorMessage=null,await O.login(this.username,this.password)}catch(e){let t=e;t.response?this.errorMessage=t.response.data.message||"INVALID LOGIN":this.errorMessage="ERROR"}this.logingIn=!1}}}}),j=$,I=a("DHzb"),T=Object(I["a"])(j,c,u,!1,null,null,null),C=T.exports,L=s["a"].extend({components:{MainLogin:C}}),N=L,M=(a("x4yS"),Object(I["a"])(N,i,o,!1,null,"d368eb9e",null)),z=M.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-navigation-drawer",{attrs:{persistent:"","enable-resize-watcher":"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list",e._l(e.items,function(t,a){return s("v-list-tile",{key:a,attrs:{to:{name:t.title},exact:"Home"==t.title}},[s("v-list-tile-action",[s("v-icon",{domProps:{innerHTML:e._s(t.icon)}})],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:e._s(t.title)}})],1)],1)}))],1),s("v-toolbar",{attrs:{color:"primary","text-color":"white",app:""}},[s("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),s("img",{staticClass:"icon",attrs:{src:a("zwU1"),alt:"Vuetify.js"}}),s("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),s("v-spacer")],1),s("v-content",[s("router-view")],1)],1)},K=[],F=s["a"].extend({data(){return{drawer:!0,items:[{icon:"home",title:"Home"},{icon:"language",title:"Apps"},{icon:"memory",title:"Handlers"},{icon:"settings",title:"Settings"}],title:"Madmin"}}}),W=F,Y=(a("xtK0"),Object(I["a"])(W,G,K,!1,null,"7bf47025",null)),q=Y.exports,V=s["a"].extend({data(){return{authService:O}},components:{Login:z,App:q}}),J=V,X=(a("72PV"),Object(I["a"])(J,n,l,!1,null,null,null)),Q=X.exports,B=a("jE9Z"),Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[0==this.apps.length?s("v-layout",{attrs:{"align-center":"",column:""}},[s("img",{staticClass:"mb-5",attrs:{src:a("zwU1"),alt:"Vuetify.js"}})]):s("v-layout",[s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},e._l(e.apps,function(t,a){return s("v-card",{key:a},[s("v-card-title",[e._v(e._s(t.subdomain))])],1)}))],1)],1)},ee=[];class te extends v{constructor(e=null){super(e),this.enabled=!0,e&&(this.subdomain=e.subdomain,this.enabled=null==e.enabled||e.enabled,this.type=e.type,this.config=e.config)}get enabledWeb(){return this.enabled}set enabledWeb(e){e?this.enable():this.disable()}get fullUrl(){let e=m["a"].baseUrl.split("//");return e[0]+"//"+this.subdomain+"."+e[1]}async save(){if(this.created){await h.a.put(ae.API_URL+"/"+this.id,this,{headers:f.getDefaultHeaders()});let e=se.apps.findIndex(e=>{return e.id==this.id});-1!=e?se.apps[e]=this:se.apps.push(this)}else{let e=await h.a.post(ae.API_URL,this,{headers:f.getDefaultHeaders()});se.apps.push(new te(e.data)),this._created=!0}}async enable(){await h.a.put(ae.API_URL+"/"+this.id+"/enable",null,{headers:f.getDefaultHeaders()}),this.enabled=!0}async disable(){await h.a.put(ae.API_URL+"/"+this.id+"/disable",null,{headers:f.getDefaultHeaders()}),this.enabled=!1}async remove(){await h.a.delete(ae.API_URL+"/"+this.id,{headers:f.getDefaultHeaders()}),this._created=!1;let e=se.apps.findIndex(e=>{return e.id==this.id});-1!=e&&se.apps.splice(e,1)}}class ae{constructor(){this.apps=null}async getApps(){let e=await h.a.get(ae.API_URL,{headers:f.getDefaultHeaders()});return this.apps=e.data.map(e=>new te(e)),this.apps}async getApp(e){let t=await h.a.get(ae.API_URL+"/"+e,{headers:f.getDefaultHeaders()});return new te(t.data)}domainInUse(e,t=null){if(null==this.apps)return this.getApps(),!1;for(let a of this.apps)if(a.subdomain.toLowerCase()==e.toLowerCase()&&a.id!=t)return!0;return!1}}ae.API_URL=g.APP;const se=new ae;var re=s["a"].extend({data(){return{apps:[]}},async mounted(){this.apps=await se.getApps()}}),ne=re,le=Object(I["a"])(ne,Z,ee,!1,null,null,null),ie=le.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":"","fill-height":""}},[null==e.items?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{color:"accent",indeterminate:!0}})],1):0==e.items.length?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-subheader",[e._v("No apps available")])],1):a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Apps")]),a("v-card",[a("v-list",e._l(e.items,function(t){return a("v-list-tile",{key:t.id},[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:e.getPowerColor(t),large:""}},[e._v("power_settings_new")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.subdomain)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.type)}})],1),a("v-list-tile-action",[a("v-menu",{attrs:{"offset-y":""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[e._v("more_vert")])],1),a("v-list",[a("v-list-tile",{attrs:{to:"/apps/edit/"+t.id}},[a("v-list-tile-avatar",[a("v-icon",[e._v("edit")])],1),a("v-list-tile-title",[e._v("Edit")])],1),t.enabled?a("v-list-tile",{on:{click:function(e){t.disable()}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("power_settings_new")])],1),a("v-list-tile-title",[e._v("Disable")])],1):a("v-list-tile",{on:{click:function(e){t.enable()}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("power_settings_new")])],1),a("v-list-tile-title",[e._v("Enable")])],1),a("v-list-tile",{on:{click:function(a){e.deleteClicked(t)}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("delete")])],1),a("v-list-tile-title",[e._v("Delete")])],1)],1)],1)],1)],1)}))],1)],1)],1),a("v-btn",{attrs:{fixed:"",fab:"",bottom:"",right:"",color:"accent",to:"/apps/new"}},[a("v-icon",{staticClass:"fix-fab-icon"},[e._v("add")])],1),null!=e.toDeleteApp?a("v-dialog",{attrs:{value:!0,"max-width":"400",persistent:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[e._v('\n\t\t\t\tAre you sure you want to delete app "'+e._s(e.toDeleteApp.subdomain)+'"? This action cannot be undone.\n\t\t\t')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:function(t){e.cancelDelete()}}},[e._v("NO")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.deleteApp()}}},[e._v("YES")])],1)],1)],1):e._e()],1)},ce=[],ue=s["a"].extend({data(){return{toDeleteApp:null,appService:se}},computed:{items(){return this.appService.apps}},mounted(){se.getApps()},methods:{deleteClicked(e){this.toDeleteApp=e},cancelDelete(){this.toDeleteApp=null},async deleteApp(){await this.toDeleteApp.remove(),this.toDeleteApp=null},getPowerColor(e){return e.enabled?"green":"red"}}}),de=ue,ve=(a("i3n+"),Object(I["a"])(de,oe,ce,!1,null,"666d423b",null)),pe=ve.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[null==e.app?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{color:"accent",indeterminate:!0}})],1):a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Edit App")]),a("Editor",{attrs:{app:e.app},on:{submit:function(t){e.onSave(t)}}})],1)],1)],1)},fe=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md6:"",xl4:"",column:""}},[a("v-text-field",{attrs:{label:"Subdomain",rules:e.subdomainRules},model:{value:e.app.subdomain,callback:function(t){e.$set(e.app,"subdomain",t)},expression:"app.subdomain"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",xl8:"",column:""}},[e._v("\n\t\t\t\t\t"+e._s(e.fullDomain)+"\n\t\t\t\t")])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"",xl4:"",column:""}},[a("v-select",{attrs:{label:"App type",items:e.appTypes,rules:e.typeRules},model:{value:e.app.type,callback:function(t){e.$set(e.app,"type",t)},expression:"app.type"}})],1)],1),"static"==e.app.type?a("Static",{attrs:{app:e.app}}):"proxy"==e.app.type?a("Proxy",{attrs:{app:e.app}}):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"accent"},on:{click:e.cancel}},[e._v("Cancel")]),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:!e.valid},on:{click:e.submit}},[e._v("Save")])],1)],1)],1)},ge=[];function we(e){return null==e||""==e}function be(e){return!!we(e)||!!e.match(/^\s+$/)}function _e(e){return!we(e)&&!!e.match(/\s/)}var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md6:"",xl4:""}},[a("v-text-field",{attrs:{label:"Files path",rules:e.pathRules},model:{value:e.app.config.path,callback:function(t){e.$set(e.app.config,"path",t)},expression:"app.config.path"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",xl8:""}},[a("v-checkbox",{attrs:{label:"List files in directories"},model:{value:e.app.config.listFiles,callback:function(t){e.$set(e.app.config,"listFiles",t)},expression:"app.config.listFiles"}})],1)],1)},ye=[],ke=s["a"].extend({data(){return{pathRules:[e=>!be(e)||"Path may not be empty"]}},props:["app"]}),De=ke,Se=Object(I["a"])(De,xe,ye,!1,null,null,null),Ae=Se.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"",xl4:""}},[a("v-text-field",{attrs:{label:"Server URL",rules:e.urlRules},model:{value:e.app.config.url,callback:function(t){e.$set(e.app.config,"url",t)},expression:"app.config.url"}})],1)],1)},Pe=[],Ee=s["a"].extend({data(){return{urlRules:[e=>!be(e)||"Url may not be empty",e=>!_e(e)||"Url may not contain spaces"]}},props:["app"]}),He=Ee,Re=Object(I["a"])(He,Ue,Pe,!1,null,null,null),Oe=Re.exports,$e=s["a"].extend({data(){return{valid:!1,subdomainRules:[e=>!be(e)||"Subdomain may not be empty",e=>!_e(e)||"Subdomain may not have spaces",e=>!se.domainInUse(e,this.app.id)||"Subdomain must be unique"],typeRules:[e=>null!=e||"You must select a type"],appTypes:["static","proxy"]}},computed:{fullDomain(){return be(this.app.subdomain)?"Invalid url":this.app.fullUrl}},props:["app"],methods:{submit(){this.$emit("submit",this.app)},cancel(){this.$router.go(-1)}},components:{Static:Ae,Proxy:Oe}}),je=$e,Ie=Object(I["a"])(je,me,ge,!1,null,null,null),Te=Ie.exports,Ce=s["a"].extend({data(){return{app:null}},async mounted(){this.app=await se.getApp(this.$route.params.id)},methods:{async onSave(e){return await e.save(),this.$router.go(-1)}},components:{Editor:Te}}),Le=Ce,Ne=Object(I["a"])(Le,he,fe,!1,null,null,null),Me=Ne.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("New App")]),a("Editor",{attrs:{app:e.app},on:{submit:function(t){e.onSave(t)}}})],1)],1)],1)},Ge=[],Ke=s["a"].extend({components:{Editor:Te},data(){let e=new te;return e.config={url:""},{app:e}},methods:{async onSave(e){console.log("Save"),await e.save(),this.$router.go(-1)}}}),Fe=Ke,We=Object(I["a"])(Fe,ze,Ge,!1,null,null,null),Ye=We.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":"","fill-height":""}},[null==e.items?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{color:"accent",indeterminate:!0}})],1):0==e.items.length?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-subheader",[e._v("No handlers available")])],1):a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Handlers")]),a("v-card",[a("v-list",e._l(e.items,function(t){return a("v-list-tile",{key:t.id},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"",color:e.getPowerColor(t)}},[e._v("power_settings_new")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.path)}})],1),a("v-list-tile-action",[a("v-menu",[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[e._v("more_vert")])],1),a("v-list",[a("v-list-tile",{attrs:{to:"/handlers/edit/"+t.id}},[a("v-list-tile-avatar",[a("v-icon",[e._v("edit")])],1),a("v-list-tile-title",[e._v("Edit")])],1),t.enabled?a("v-list-tile",{on:{click:function(e){t.disable()}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("power_settings_new")])],1),a("v-list-tile-title",[e._v("Disable")])],1):a("v-list-tile",{on:{click:function(e){t.enable()}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("power_settings_new")])],1),a("v-list-tile-title",[e._v("Enable")])],1),a("v-list-tile",{on:{click:function(a){e.deleteClicked(t)}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("delete")])],1),a("v-list-tile-title",[e._v("Delete")])],1)],1)],1)],1)],1)}))],1)],1)],1),a("v-btn",{attrs:{fixed:"",fab:"",bottom:"",right:"",color:"accent",to:"/handlers/new"}},[a("v-icon",{staticClass:"fix-fab-icon"},[e._v("add")])],1),null!=e.toDeleteHandler?a("v-dialog",{attrs:{value:!0,"max-width":"250",persistent:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[e._v('\n\t\t\t\tAre you sure you want to delete handler "'+e._s(e.toDeleteHandler.path)+'"? This action cannot be undone.\n\t\t\t')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:function(t){e.cancelDelete()}}},[e._v("NO")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.deleteHandler()}}},[e._v("YES")])],1)],1)],1):e._e()],1)},Ve=[];class Je extends v{constructor(e=null){super(e),this.methods=[],this.enabled=!0,e&&(this.path=e.path,this.code=e.code,this.methods=e.methods,this.enabled=e.enabled)}async save(){if(this.created){let e=await h.a.put(Xe.API_URL+"/"+this.id,this,{headers:f.getDefaultHeaders()}),t=Qe.handlers.findIndex(e=>{return e.id==this.id});-1!=t?Qe.handlers[t]=new Je(e.data):Qe.handlers.push(new Je(e.data))}else{let e=await h.a.post(Xe.API_URL,this,{headers:f.getDefaultHeaders()});Qe.handlers.push(new Je(e.data)),this._created=!0}}async enable(){await h.a.put(Xe.API_URL+"/"+this.id+"/enable",null,{headers:f.getDefaultHeaders()}),this.enabled=!0}async disable(){await h.a.put(Xe.API_URL+"/"+this.id+"/disable",null,{headers:f.getDefaultHeaders()}),this.enabled=!1}async remove(){await h.a.delete(Xe.API_URL+"/"+this.id,{headers:f.getDefaultHeaders()});let e=Qe.handlers.findIndex(e=>{return e.id==this.id});-1!=e&&Qe.handlers.splice(e,1)}}Je.ALLOWED_METHODS=["GET","POST","PUT","DELETE","PATCH","OPTIONS"];class Xe{constructor(){this.handlers=null}async getHandlers(){let e=await h.a.get(Xe.API_URL,{headers:f.getDefaultHeaders()});return this.handlers=e.data.map(e=>new Je(e)),this.handlers}async getHandler(e){let t=await h.a.get(Xe.API_URL+"/"+e,{headers:f.getDefaultHeaders()});return new Je(t.data)}isPathInUse(e,t=null){if(!this.handlers)return this.getHandlers(),!1;for(let a of this.handlers)if(a.path.toLowerCase()==e&&a.id!=t)return!0;return!1}}Xe.API_URL=g.HANDLER;const Qe=new Xe;var Be=s["a"].extend({data(){return{toDeleteHandler:null,handlerService:Qe}},computed:{items(){return this.handlerService.handlers}},mounted(){Qe.getHandlers()},methods:{deleteClicked(e){this.toDeleteHandler=e},cancelDelete(){this.toDeleteHandler=null},async deleteHandler(){await this.toDeleteHandler.remove()},getPowerColor(e){return e.enabled?"green":"red"}}}),Ze=Be,et=(a("zOlK"),Object(I["a"])(Ze,qe,Ve,!1,null,"58bb64f6",null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("New Handler")]),a("Editor",{attrs:{handler:e.handler}})],1)],1)],1)},st=[],rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md6:"",xl8:""}},[e._v("\n\t\t\t\t\t"+e._s(e.fullUrl)+"\n\t\t\t\t")])],1),a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","d-flex":""}},[a("v-select",{attrs:{items:e.allowedMethods,label:"Methods",multiple:""},model:{value:e.handler.methods,callback:function(t){e.$set(e.handler,"methods",t)},expression:"handler.methods"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Path",rules:e.pathRules},model:{value:e.handler.path,callback:function(t){e.$set(e.handler,"path",t)},expression:"handler.path"}})],1)],1)],1),e._v("\n\t\tasync function(req, res, require){\n\t\t"),a("codemirror",{model:{value:e.handler.code,callback:function(t){e.$set(e.handler,"code",t)},expression:"handler.code"}}),e._v("\n\t\t}\n\t\t"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"accent"},on:{click:e.cancel}},[e._v("Cancel")]),a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)},nt=[],lt=a("MCLT");const{codemirror:it}=a("j5TT");var ot=s["a"].extend({data(){return{valid:!1,apiUrl:g.HANDLER_EXEC,pathRules:[e=>!Object(lt["isNullOrUndefined"])(e)||"Path may not be empty",e=>!_e(e)||"Path may not have spaces",e=>!Qe.isPathInUse(this.handler.path,this.handler.id)||"Path must be unique"],allowedMethods:Je.ALLOWED_METHODS}},computed:{fullUrl(){return this.handler.path.match(/^\//)?this.apiUrl+this.handler.path:this.apiUrl+"/"+this.handler.path}},methods:{cancel(){this.$router.go(-1)},async save(){await this.handler.save(),this.$router.go(-1)}},props:["handler"],components:{codemirror:it}}),ct=ot,ut=Object(I["a"])(ct,rt,nt,!1,null,null,null),dt=ut.exports,vt=s["a"].extend({data(){return{handler:new Je}},components:{Editor:dt}}),pt=vt,ht=Object(I["a"])(pt,at,st,!1,null,null,null),ft=ht.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":"","fill-height":""}},[null==e.handler?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{color:"accent",indeterminate:!0}})],1):a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Edit Handler")]),a("Editor",{attrs:{handler:e.handler}})],1)],1)],1)},gt=[],wt=s["a"].extend({data(){return{handler:null}},components:{Editor:dt},async mounted(){this.handler=await Qe.getHandler(this.$route.params.id)}}),bt=wt,_t=Object(I["a"])(bt,mt,gt,!1,null,null,null),xt=_t.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},kt=[],Dt=s["a"].extend({}),St=Dt,At=Object(I["a"])(St,yt,kt,!1,null,null,null),Ut=At.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"expand-vertical",mode:"in-out"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.authService.user.isAdmin?a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Application")]),e.configService.appSettings?a("Application",{attrs:{settings:e.configService.appSettings}}):a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("v-progress-circular",{attrs:{color:"accent",indeterminate:!0}})],1)],1):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.authService.user.isAdmin?a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Users")]),a("Users")],1):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v("Profile")]),a("Profile")],1)],1)],1)],1)},Et=[],Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-list",{staticClass:"no-padding",attrs:{"two-line":""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v("Version")]),a("v-list-tile-sub-title",[e._v(e._s(e.settings.version))])],1)],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v("Default redirect")]),a("v-list-tile-sub-title",[e._v(e._s(e.settings.defaultRedirect))])],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.changeDefaultRedirect=!0}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.changeDefaultRedirect,callback:function(t){e.changeDefaultRedirect=t},expression:"changeDefaultRedirect"}},[a("v-card",[a("v-card-text",[a("p",[e._v("Edit default redirect")]),a("v-text-field",{attrs:{label:"Redirect subdomain"},model:{value:e.defaultRedirectText,callback:function(t){e.defaultRedirectText=t},expression:"defaultRedirectText"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(t){e.changeDefaultRedirect=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.saveNewDefaultRedirect()}}},[e._v("Save")])],1)],1)],1)],1)},Rt=[],Ot=s["a"].extend({data(){return{changeDefaultRedirect:!1,defaultRedirectText:this.settings.defaultRedirect}},props:["settings"],methods:{async saveNewDefaultRedirect(){await A.updateDefaultRedirect(this.defaultRedirectText),this.changeDefaultRedirect=!1}}}),$t=Ot,jt=Object(I["a"])($t,Ht,Rt,!1,null,null,null),It=jt.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-list",{staticClass:"no-padding",attrs:{"two-line":""}},[a("v-list-tile",{on:{click:function(t){e.createNewUser()}}},[a("v-list-tile-avatar",[a("v-icon",[e._v("add")])],1),a("v-list-tile-title",[e._v("\n                Create a new user\n            ")])],1),a("v-divider"),e._l(e.userService.users,function(t,s){return[a("v-list-tile",{key:s},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.username))])],1),t.isAdmin?a("v-list-tile-action-text",[a("v-chip",{attrs:{color:"primary"}},[e._v("admin")])],1):e._e(),e.authUser.isAdmin&&e.authUser.id!=t.id?[a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){e.editUser(t)}}},[a("v-icon",[e._v("edit")])],1)],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){e.deleteUserClicked(t)}}},[a("v-icon",[e._v("delete")])],1)],1)]:e._e()],2),s!=e.userService.users.length-1?a("v-divider",{key:s+"divider"}):e._e()]})],2),e.toDeleteUser?a("v-dialog",{attrs:{value:e.deleteModal,"max-width":"400"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[e._v("\n                Are you sure you want to delete user "+e._s(e.toDeleteUser.username)+". This action cannot be undone.\n            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:function(t){e.deleteModal=!1}}},[e._v("NO")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.deleteUser(e.toDeleteUser)}}},[e._v("YES")])],1)],1)],1):e._e()],1)},Ct=[],Lt=s["a"].extend({data(){return{userService:b,authService:O,toDeleteUser:null,deleteModal:!1}},computed:{authUser(){return console.log(O.user),this.authService.user}},watch:{deleteModal(e){e||(this.toDeleteUser=null)}},methods:{editUser(e){this.$router.push("/settings/user/edit/"+e.id)},deleteUserClicked(e){this.toDeleteUser=e,this.deleteModal=!0},async deleteUser(e){await e.remove(),this.toDeleteUser=null,this.deleteModal=!1},createNewUser(){this.$router.push("/settings/user/new")}},mounted(){this.userService.getUsers()}}),Nt=Lt,Mt=Object(I["a"])(Nt,Tt,Ct,!1,null,null,null),zt=Mt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-list",{staticClass:"no-padding",attrs:{"two-line":""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v("Tokens")]),a("v-list-tile-sub-title",[e._v("Manage your login tokens")])],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:"",to:"/settings/tokens"}},[a("v-icon",[e._v("keyboard_arrow_right")])],1)],1)],1),a("v-divider"),a("v-list-tile",{on:{click:e.logout}},[a("v-list-tile-content",[a("v-list-tile-title",[e._v("Logout")])],1)],1)],1)],1)},Kt=[],Ft=s["a"].extend({methods:{logout(){O.logout()}}}),Wt=Ft,Yt=Object(I["a"])(Wt,Gt,Kt,!1,null,null,null),qt=Yt.exports,Vt=s["a"].extend({data(){return{authService:O,configService:P}},components:{Application:It,Users:zt,Profile:qt}}),Jt=Vt,Xt=(a("kVaP"),Object(I["a"])(Jt,Pt,Et,!1,null,"490410c8",null)),Qt=Xt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-card",[a("v-card-actions",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.back()}}},[a("v-icon",[e._v("arrow_back")])],1),e._v("Tokens\n                    "),a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"accent"},on:{click:function(t){e.deleteAllDialog=!0}}},[e._v("remove all")])],1),a("v-divider"),a("v-list",{staticClass:"no-padding",attrs:{"two-line":""}},[e._l(e.user.tokens,function(t,s){return[a("v-list-tile",{key:s},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.deviceName))])],1),t.token==e.currentToken?a("v-list-tile-action-text",[a("v-chip",{attrs:{color:"primary"}},[e._v("current")])],1):a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){e.deleteTokenClicked(t)}}},[a("v-icon",[e._v("delete")])],1)],1)],1),s!=e.user.tokens.length-1?a("v-divider",{key:s+"divider"}):e._e()]})],2)],1)],1),null!=e.toDeleteToken?a("v-dialog",{attrs:{value:!0,"max-width":"400",persistent:"true"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[e._v('\n                    Are you sure you want to delete token: "'+e._s(e.toDeleteToken.deviceName)+'"?\n                ')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:function(t){e.toDeleteToken=null}}},[e._v("NO")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.deleteToken()}}},[e._v("YES")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{value:e.deleteAllDialog,"max-width":"400"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[e._v("\n                    Are you sure you want to delete all tokens. Your current login will still work but you will be logged out of all your other devices.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:function(t){e.deleteAllDialog=!1}}},[e._v("NO")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.deleteAllTokens()}}},[e._v("YES")])],1)],1)],1)],1)],1)},Zt=[],ea=s["a"].extend({data(){return{authService:O,toDeleteToken:null,deleteAllDialog:!1}},computed:{currentToken(){return this.authService.token},user(){return this.authService.user}},methods:{back(){this.$router.back()},deleteTokenClicked(e){this.toDeleteToken=e},async deleteToken(){await O.removeToken(this.toDeleteToken),this.toDeleteToken=null},async deleteAllTokens(){await O.removeAllTokens(),this.deleteAllDialog=!1}}}),ta=ea,aa=Object(I["a"])(ta,Bt,Zt,!1,null,null,null),sa=aa.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[a("v-subheader",[e._v(e._s(e.title))]),a("v-card",[a("v-form",[a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-checkbox",{attrs:{label:"is admin"},model:{value:e.user.isAdmin,callback:function(t){e.$set(e.user,"isAdmin",t)},expression:"user.isAdmin"}})],1)],1),a("v-layout",[e.isNew?e._e():a("v-checkbox",{attrs:{label:"change password?"},model:{value:e.changePassword,callback:function(t){e.changePassword=t},expression:"changePassword"}}),e.changePassword||e.isNew?[a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"new password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"retype password"},model:{value:e.retypePassword,callback:function(t){e.retypePassword=t},expression:"retypePassword"}})],1)],1)],1)]:e._e()],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",depressed:""},on:{click:function(t){e.cancelDialog=!0}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{value:e.cancelDialog,"max-width":"400"}},[a("v-card",[a("v-card-text",[e._v("\n\t\t\t\t\tAre you sure you want to stop editing\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(t){e.cancelDialog=!1}}},[e._v("NO")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:e.cancel}},[e._v("YES")])],1)],1)],1)],1)},na=[],la=s["a"].extend({data(){return{user:null,changePassword:!1,retypePassword:null,cancelDialog:!1}},watch:{changePassword(e){e&&(this.user.password=null)}},computed:{isNew(){return!this.user.created},title(){return this.isNew?"Create new user":"Edit user "+this.user.username},passwordsMatch(){return this.user.password==this.retypePassword}},methods:{cancel(){this.$router.go(-1)},async save(){if((this.changePassword||this.isNew)&&!this.passwordsMatch)return console.error("Passwords dont match");await this.user.save(),this.$router.go(-1)}},destroyed(){this.user.password=null},async created(){let e=this.$route.params.id;e?(this.user=b.users.find(t=>t.id==e),this.user||(this.user=new x,this.user=await b.getUser(e))):this.user=new x}}),ia=la,oa=Object(I["a"])(ia,ra,na,!1,null,null,null),ca=oa.exports;s["a"].use(B["a"]);const ua=new B["a"]({routes:[{path:"/",name:"Home",component:ie},{path:"/apps",name:"Apps",component:pe},{path:"/apps/new",component:Ye},{path:"/apps/edit/:id",component:Me},{path:"/handlers",name:"Handlers",component:tt},{path:"/handlers/new",component:ft},{path:"/handlers/edit/:id",component:xt},{path:"/settings",component:Ut,children:[{path:"",component:Qt,name:"Settings"},{path:"tokens",component:sa},{path:"user/edit/:id",component:ca},{path:"user/new",component:ca}]}]});function da(e){let t=document.querySelector("head title");t.innerText=null==e?"Madmin":"Madmin - "+e}ua.beforeEach((e,t,a)=>{e.name?da(e.name):da(null),a()});var va=ua;a("p77/"),a("jC6e"),a("+dQi");a.d(t,"appInit",function(){return ha});const pa=a("j5TT");function ha(){s["a"].config.productionTip=!1,s["a"].use(pa,{options:{tabSize:4,mode:"text/javascript",theme:"base16-dark",lineNumbers:!0,line:!0}}),new s["a"]({router:va,render:e=>e(Q)}).$mount("#app")}},XuSK:function(e,t,a){},dGK9:function(e,t,a){},"i3n+":function(e,t,a){"use strict";var s=a("XuSK"),r=a.n(s);r.a},kVaP:function(e,t,a){"use strict";var s=a("zsUh"),r=a.n(s);r.a},"o1R/":function(e,t,a){},x4yS:function(e,t,a){"use strict";var s=a("dGK9"),r=a.n(s);r.a},xtK0:function(e,t,a){"use strict";var s=a("Ixer"),r=a.n(s);r.a},zOlK:function(e,t,a){"use strict";var s=a("GJfE"),r=a.n(s);r.a},zUnb:function(e,t,a){"use strict";a.r(t);var s=a("vDqi"),r=a.n(s),n=a("8bKz");r.a.get("/manifest").then(e=>{let t=e.data;console.log(t.baseUrl),n["a"].baseUrl="http://"+t.baseUrl,a("MISg").appInit()})},zsUh:function(e,t,a){},zwU1:function(e,t,a){e.exports=a.p+"img/logo.cef4d0b1.png"}});